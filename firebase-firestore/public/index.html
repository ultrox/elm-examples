<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Random Thing</title>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/Faker/3.1.0/faker.min.js"
      integrity="sha512-/seDHxVfh1NvFUscAj8GsHQVZJvr2jjAoYsNL7As2FCaFHUHYIarl3sRCvVlFgyouVNiRgHIebyLKjpgd1SLDw=="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js';
      import {
        query,
        where,
        orderBy,
        limit,
        getFirestore,
        collection,
        addDoc,
        onSnapshot,
        writeBatch,
        doc,
        FieldValue,
        serverTimestamp,
      } from 'https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore.js';

      import {
        getAuth,
        GoogleAuthProvider,
        signInWithPopup,
        signOut,
        onAuthStateChanged,
      } from 'https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js';

      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: 'AIzaSyC4-YEHVg-Tnmc_qA6AJi8f5meIGNkCe_k',
        authDomain: 'subtitles-82070.firebaseapp.com',
        databaseURL:
          'https://subtitles-82070-default-rtdb.europe-west1.firebasedatabase.app',
        projectId: 'subtitles-82070',
        storageBucket: 'subtitles-82070.appspot.com',
        messagingSenderId: '198094719161',
        appId: '1:198094719161:web:67e64e44a6c325ba2d7368',
        measurementId: 'G-CZHL8NRYRZ',
      };

      // Initialize Firebase
      // window.firebase = firebase.initializeApp(firebaseConfig);
      window.firebase = initializeApp(firebaseConfig);
      console.log(firebase.firestore);
      window.AUTH = {
        auth: getAuth(),
        provider: new GoogleAuthProvider(),
        onAuthStateChanged,
        signInWithPopup,
        signOut,
      };
      const firestore = getFirestore();
      window.DB = {
        serverTimestamp,
        FieldValue,
        firestore,
        firebase,
        collection,
        addDoc,
        onSnapshot,
        writeBatch,
        doc,

        query,
        where,
        orderBy,
        limit,
      };
    </script>

    <script>
      console.log('first');
    </script>
    <script defer src="./app.js"></script>
    <h1>Hello Firebase and Elm!</h1>

    <main>
      <seciton id="when-s-out">
        <button type="button" id="s-in-btn">Sign In With Google</button>
      </seciton>

      <seciton id="when-s-in" hidden="true">
        <div id="user-details"></div>
        <button type="button" id="s-out-btn">Logout</button>

        <section>
          <h2>Contribute to the world!</h2>

          <ul id="things-list"></ul>

          <button id="create-thing-btn" class="btn btn-success">
            Create Thing
          </button>

          <button id="create-batch-btn" class="btn btn-success">
            Create Batch Thing
          </button>
        </section>
      </seciton>
    </main>
  </body>
</html>
